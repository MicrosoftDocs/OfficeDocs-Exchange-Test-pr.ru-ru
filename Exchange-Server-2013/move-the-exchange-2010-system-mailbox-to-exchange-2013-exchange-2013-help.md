---
title: 'Перемещение системного почтового ящика Exchange 2010 в Exchange 2013'
TOCTitle: Перемещение системного почтового ящика Exchange 2010 в Exchange 2013
ms:assetid: a3b03c4e-0bc7-41a2-885c-e9cac37566c8
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Dn249849(v=EXCHG.150)
ms:contentKeyID: 54913506
ms.date: 04/30/2018
mtps_version: v=EXCHG.150
ms.translationtype: HT
---

# Перемещение системного почтового ящика Exchange 2010 в Exchange 2013

 

_**Применимо к:** Exchange Server 2013_

_**Последнее изменение раздела:** 2015-04-07_

В Exchange 2010 системный почтовый ящик Microsoft Exchange — почтовый ящик разрешения конфликтов, в котором хранятся данные всей организации (например, журналы аудита действий администратора, метаданные для обнаружения электронных данных, а также данные единой системы обмена сообщениями, такие как меню, абонентские группы и настраиваемые приветствия). Системный почтовый ящик Microsoft Exchange имеет имя **SystemMailbox{e0dc1c29-89c3-4034-b678-e6c29d823ed9}**; отображаемое имя — **Microsoft Exchange**.

При обновлении существующей организации Exchange 2010 до Exchange 2013 необходимо переместить систему почтовых ящиков Microsoft Exchange в базу данных почтовых ящиков на сервере почтовых ящиков Exchange 2013. Почтовый ящик следует перемещать после установки и проверки Exchange 2013. Если вы не переместите этот системный почтовый ящик в Exchange 2013, при сосуществовании Exchange 2010 и Exchange 2013 в организации Exchange возникнут такие проблемы:

  - Задачи Exchange 2013 не сохраняются в журнал аудита действий администратора. Если вы запустите командлет **Search-AdminAuditLog** или попытаетесь экспортировать журнал аудита действий администратора в Центре администрирования Exchange, вы получите сообщение об ошибке из-за невозможности создать поиск в журнале аудита действий администратора, потому что на сервере, где расположен системный почтовый ящик SystemMailbox{e0dc1c29-89c3-4034-b678-e6c29d823ed9}, не запущен Exchange 2013. Ошибка Microsoft Exchange с кодом события 5000 также записывается в журнал приложений Windows при каждом выполнении команды.

  - Нельзя выполнять поиск методом обнаружения электронных данных с помощью Центра администрирования Exchange или командной консоли в Exchange 2013. Поиск почтового ящика можно создать и поставить в очередь, но нельзя запустить. Ошибка с кодом события 6 записывается в журнал MsExchange Management с указанием ошибки при выполнении командлета **Start-MailboxSearch**. При этом можно выполнять поиск в почтовых ящиках с помощью командной консоли и панели управления Exchange в Exchange 2010.

Вам также необходимо переместить системный почтовый ящик Microsoft Exchange в Exchange 2013 при обновлении единой системы обмена сообщениями Exchange 2010 до Exchange 2013.

Дополнительные сведения об обновлении до Exchange 2013 см. в следующих разделах:

  - [Обновление с Exchange 2010 до Exchange 2013](upgrade-from-exchange-2010-to-exchange-2013-exchange-2013-help.md)

  - [Обновление единой системы обмена сообщениями Exchange 2010 до Exchange 2013](upgrade-exchange-2010-um-to-exchange-2013-um-exchange-2013-help.md)

## Что нужно знать перед началом работы

  - Предполагаемое время выполнения: 20 минут. Фактическое время зависит от размера системного почтового ящика.

  - Для выполнения этих процедур необходимы соответствующие разрешения. Сведения о необходимых разрешениях см. в статье[Разрешения получателей](recipients-permissions-exchange-2013-help.md), подраздел "Разрешения на перемещение и миграцию почтовых ящиков".

  - В Exchange 2013 запустите следующую команду, чтобы получить идентификатор и версию серверов Exchange и баз данных почтовых ящиков, которые содержат системные почтовые ящики в вашей организации.
    
        Get-Mailbox -Arbitration | FL Name,DisplayName,ServerName,Database,AdminDisplayVersion
    
    Свойство **AdminDisplayVersion** указывает версию Exchange, которая запущена на сервере. Значение `Version 14.x` указывает Exchange 2010; значение `Version 15.x` указывает Exchange 2013.

  - Сочетания клавиш для процедур, описанных в этой статье, приведены в статье [Сочетания клавиш в Центре администрирования Exchange](keyboard-shortcuts-in-the-exchange-admin-center-exchange-online-protection-help.md).

> [!TIP]  
> Возникли проблемы? Обратитесь за помощью к участникам форумов, посвященных Exchange. Посетите форумы по таким продуктам: <a href="https://go.microsoft.com/fwlink/p/?linkid=60612">Exchange Server</a>, <a href="https://go.microsoft.com/fwlink/p/?linkid=267542">Exchange Online</a> или <a href="https://go.microsoft.com/fwlink/p/?linkid=285351">Exchange Online Protection</a>..


## Что необходимо сделать?

## Использование Центра администрирования Exchange для перемещения системных почтовых ящиков

1.  В Центре администрирования Exchange перейдите к разделу **Получатели** \> **Миграция**.

2.  Нажмите кнопку **Создать**![Значок добавления](images/JJ218640.c1e75329-d6d7-4073-a27d-498590bbb558(EXCHG.150).gif "Значок добавления"), а затем выберите **Переместить в другую базу данных**.

3.  На странице **нового перемещения локальных почтовых ящиков** выберите пункт **Выбор перемещаемых пользователей** и нажмите кнопку **Добавить**![Значок добавления](images/JJ218640.c1e75329-d6d7-4073-a27d-498590bbb558(EXCHG.150).gif "Значок добавления").

4.  На странице **выбора почтового ящика** добавьте почтовый ящик, имеющий следующие свойства.
    
      - Отображаемое имя — **Microsoft Exchange**.
    
      - Псевдоним адреса электронной почты этого ящика — **SystemMailbox{e0dc1c29-89c3-4034-b678-e6c29d823ed9}**.

5.  Нажмите кнопку **ОК**, а затем кнопку **Далее**.

6.  На странице **параметров перемещения** введите имя пакета миграции и нажмите кнопку **Обзор** рядом с полем **Конечная база данных**.

7.  На странице **выбора базы данных почтовых ящиков** добавьте базу данных почтового ящика, в которую следует переместить этот системный почтовый ящик. Убедитесь, что выбранная база данных почтовых ящиков имеет версию 15.x, что означает, что база данных располагается на сервере Exchange 2013.

8.  Нажмите кнопку **ОК**, а затем кнопку **Далее**.

9.  На странице **запуска пакета** выберите параметры для автоматического запуска и завершения запроса миграции, а затем нажмите кнопку **Создать**.

## Использование командной консоли для перемещения системных почтовых ящиков

Сначала выполните следующую команду в Exchange 2013, чтобы получить имена и версии всех баз данных почтовых ящиков в своей организации.

    Get-MailboxDatabase -IncludePreExchange2013 | FL Name,Server,AdminDisplayVersion

После того как вы определите имена баз данных почтовых ящиков в своей организации, в Exchange 2013 запустите следующую команду, чтобы переместить системный почтовый ящик Microsoft Exchange в базу данных почтовых ящиков, расположенную на сервере Exchange 2013.

    Get-Mailbox -Arbitration -Identity "SystemMailbox{e0dc1c29-89c3-4034-b678-e6c29d823ed9}" | New-MoveRequest -TargetDatabase <name of Exchange 2013 database>

## Как проверить, что все получилось?

Чтобы проверить успешность перемещения системного почтового ящика Microsoft Exchange в базу данных почтовых ящиков, размещенную на сервере Exchange 2013, выполните в командной консоли следующую команду.

    Get-Mailbox -Arbitration -Identity "SystemMailbox{e0dc1c29-89c3-4034-b678-e6c29d823ed9}" | FL Database,ServerName,AdminDisplayVersion

Если свойство **AdminDisplayVersion** имеет значение **Version 15.x (Build xxx.x)**, это означает, что системный почтовый ящик располагается в базе данных почтовых ящиков, размещенной на сервере Exchange 2013.

После перемещения системного почтового ящика Microsoft Exchange в Exchange 2013 можно также будет успешно выполнять следующие административные задачи.

  - Запускать командлет **Search-AdminAuditLog**.

  - Экспортировать журнал аудита действий администратора в Центре администрирования Exchange.

  - Успешно создавать и запускать поиск методом обнаружения электронных данных с помощью Центра администрирования Exchange или командной консоли в Exchange 2013.

