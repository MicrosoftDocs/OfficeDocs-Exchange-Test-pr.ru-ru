---
title: 'Устранение неполадок скрипта RollAlternateServiceAccountCredential.ps1'
TOCTitle: Устранение неполадок сценария RollAlternateServiceAccountCredential.ps1
ms:assetid: 2bbf36d3-eb89-4f92-a8de-259a7cb64d62
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Ff808310(v=EXCHG.150)
ms:contentKeyID: 63918672
ms.date: 05/22/2018
mtps_version: v=EXCHG.150
ms.translationtype: MT
---

# Устранение неполадок сценария RollAlternateServiceAccountCredential.ps1

 

_**Применимо к:** Exchange Server 2013_

_**Последнее изменение раздела:** 2015-01-14_

В этом разделе содержатся решения и сведения об общих ошибках, которые могут произойти при использовании сценария RollAlternateServiceAccountPassword.ps1.

## Невозможно обновить один или несколько серверов клиентского доступа с помощью пароля

## Проблема

В некоторых случаях при использовании параметров *ToEntireForest* или *ToArrayMembers* в этом сценарии невозможно обновить один или несколько серверов клиентского доступа.

## Решение

Убедитесь, что сценарий использует все обязательные целевые серверы, с помощью командлета **Get-ClientAccessArray** cmdlet, как показано в следующем примере.

```powershell
Get-ClientAccessArray | fl members
```

Если сервер, который не удается обновить, является членом массива серверов клиентского доступа и обновляется неправильно, перезапустите программу установки Exchange и повторно добавьте роль сервера клиентского доступа на этот сервер. Можно также указать отдельные целевые серверы с помощью параметра *ToSpecificServers*.

## Некоторые серверы не отвечают на запросы сценария

## Проблема

В некоторых случаях могут происходить сбои при обновлении серверов из-за временных ошибок, например из-за неустойчивого сетевого подключения.

## Решение

Убедитесь, что серверы, на которых происходят такие сбои, используют сеть и подключение Active Directory, а затем повторно запустите сценарий.

## Некоторые члены массива не работают в течение длительного времени

## Проблема

Если сервер не используется в течение длительного времени, но является членом массива, как определено с помощью командлета **Get-ClientAccessArray**, функции сценария могут быть ограничены при использовании параметров *ToArrayMembers* и *ToEntireForest*. Такая же проблема может возникать, если на сервере произошла неустранимая ошибка, но он не был удален из развертывания без ошибок.

## Решение

Чтобы устранить эту проблему, удалите сервер из развертывания с помощью программы установки Exchange или запустите сценарий в режиме с сопровождением, пока сервер не будет удален.

Если сервер не работает в течение короткого времени и не требуется окончательно удалять систему Exchange, можно настроить для сценария запуск только на определенных серверах с помощью параметра *ToSpecificServers*, чтобы только активные серверы являлись целевыми. Кроме того, можно удалить службу клиентского доступа RPC из объекта Active Directory недоступного сервера с помощью командлета **Remove-ClientAccessArray**, как показано в следующем примере.

```powershell
Remove-RPCClientAccess -Server Server.Contoso.com
```

После удаления службы клиентского доступа RPC сервер не будет возвращен в качестве члена массива командлетом [Get-ClientAccessArray](https://technet.microsoft.com/ru-ru/library/dd297976\(v=exchg.150\)), поэтому сценарий не будет использовать его как целевой. Когда сервер заработает, можно повторно добавить службу клиентского доступа RPC с помощью командлета **New-RpcClientAccess**. После повторного добавления службы клиентского доступа RPC обязательно перезапустите службу адресной книги Microsoft Exchange на задействованном сервере.

> [!CAUTION]  
> Перед удалением службы клиентского доступа RPC с сервера прочитайте раздел <a href="https://technet.microsoft.com/ru-ru/library/dd298151(v=exchg.150)">Remove-RPCClientAccess</a>.


## Дополнительные сведения

Дополнительные сведения об использовании проверки подлинности Kerberos в массиве серверов клиентского доступа или в решении балансировки нагрузки см. в следующих разделах.

  - [Настройка проверки подлинности Kerberos для серверов клиентского доступа с балансировкой нагрузки](configuring-kerberos-authentication-for-load-balanced-client-access-servers-exchange-2013-help.md)

  - [Использование сценария RollAlternateserviceAccountCredential.ps1 в консоли](using-the-rollalternateserviceaccountcredential-ps1-script-in-the-shell-exchange-2013-help.md)

