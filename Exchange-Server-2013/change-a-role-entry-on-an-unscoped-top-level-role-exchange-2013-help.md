---
title: 'Изменение записи роли в роли верхнего уровня с незаданной областью: Exchange 2013 Help'
TOCTitle: Изменение записи роли в роли верхнего уровня с незаданной областью
ms:assetid: 65c0bfb3-aafd-4c64-8429-7616c57adf1c
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Dd876896(v=EXCHG.150)
ms:contentKeyID: 50488162
ms.date: 05/22/2018
mtps_version: v=EXCHG.150
ms.translationtype: MT
---

# Изменение записи роли в роли верхнего уровня с незаданной областью

 

_**Применимо к:** Exchange Server 2013_

_**Последнее изменение раздела:** 2012-10-03_

Записи ролей управления для ролей управления верхнего уровня с незаданной областью ссылаются на сценарии и командлеты, не относящиеся к Exchange и их параметры, которые необходимо сделать доступными объектам, которым назначена роль. Путем изменения параметров, доступных для записи роли, можно контролировать действия объектов, которым назначена роль, со сценариями и командлетами, не относящимися к серверу Exchange. Дополнительные сведения о записях ролей с незаданной областью см. в разделе [Общие сведения о ролях управления](understanding-management-roles-exchange-2013-help.md).

> [!NOTE]  
> Чтобы изменить запись роли на роль управления, содержащую командлеты Exchange, см раздел <a href="change-a-role-entry-exchange-2013-help.md">Изменение записи роли</a>.


Необходимы сведения о других задачах управления, связанных с ролями? см. в разделе [Дополнительные разрешения](advanced-permissions-exchange-2013-help.md).

## Что нужно знать перед началом работы?

  - Предполагаемое время для завершения каждой процедуры: 5 минут

  - Для выполнения этих процедур необходимы соответствующие разрешения. Сведения о необходимых разрешениях см. в статье Запись "Роли управления" в разделе [Разрешения управления ролями](role-management-permissions-exchange-2013-help.md).

  - Для выполнения этих процедур необходимо использовать командную консоль Exchange.

  - По умолчанию возможность изменения записи для роли верхнего уровня с незаданной областью не предусмотрена ни для одной из групп ролей управления. Необходимо предварительно назначить роль управления ролью с незаданной областью для пользователя или для универсальной группы безопасности или группы ролей, участником которой является пользователь. Затем пользователь сможет добавлять или изменять запись роли верхнего уровня с незаданной областью. Дополнительные сведения о добавлении роли пользователю, универсальной группе безопасности (USG) или группе ролей см. в следующих разделах:
    
      - [Управление группами ролей](manage-role-groups-exchange-2013-help.md)
    
      - [Добавление роли для пользователя или универсальной группы безопасности](add-a-role-to-a-user-or-usg-exchange-2013-help.md)

  - Сочетания клавиш для процедур, описанных в этой статье, приведены в статье [Сочетания клавиш в Центре администрирования Exchange](keyboard-shortcuts-in-the-exchange-admin-center-exchange-online-protection-help.md).

> [!TIP]  
> Возникли проблемы? Обратитесь за помощью к участникам форумов, посвященных Exchange. Посетите форумы по таким продуктам: <a href="https://go.microsoft.com/fwlink/p/?linkid=60612">Exchange Server</a>, <a href="https://go.microsoft.com/fwlink/p/?linkid=267542">Exchange Online</a> или <a href="https://go.microsoft.com/fwlink/p/?linkid=285351">Exchange Online Protection</a>.


## Что необходимо сделать?

## Использование командной консоли Exchange для добавления одного или нескольких параметров для записи роли

Чтобы добавить параметры в запись роли верхнего уровня с незаданной областью, выполните следующие действия.

  - Укажите параметры, которые необходимо добавить с помощью параметра *Parameters*.

  - Укажите параметр *AddParameter*, чтобы указать на необходимость выполнения процедуры добавления.

  - Укажите параметр *UnscopedTopLevel* для того, чтобы обозначить изменение записи роли на роль верхнего уровня с незаданной областью. Если при изменении записи роли на роль с незаданной областью данный параметр не будет указан, то произойдет ошибка.

Чтобы добавить параметры к записи роли, используйте следующий синтаксис.

    Set-ManagementRoleEntry <role name>\<script or non-Exchange cmdlet> -Parameters <parameter 1>, <parameter 2>, <parameter...> -AddParameter -UnscopedTopLevel

В этом примере добавляются параметры *EmailAddress* и *City* в сценарий **CreateUsers.ps1** для роли администраторов получателей с незаданной областью.

    Set-ManagementRoleEntry "Recipient Administrators\CreateUsers.ps1" -Parameters EmailAddress, City -AddParameter -UnscopedTopLevel

Дополнительные сведения о синтаксисе и параметрах см. в разделе [Set-ManagementRoleEntry](https://technet.microsoft.com/ru-ru/library/dd351162\(v=exchg.150\)).

## Использование командной консоли Exchange для удаления одного или нескольких параметров из записи роли

Для удаления параметров из записи роли выполните следующие действия.

  - Укажите параметры, которые необходимо удалить с помощью параметра *Parameters*.

  - Укажите параметр *RemoveParameter*, чтобы указать на необходимость выполнения процедуры удаления.

  - Укажите параметр *UnscopedTopLevel* для того, чтобы обозначить изменение записи роли на роль верхнего уровня с незаданной областью. Если при изменении записи роли на роль с незаданной областью данный параметр не будет указан, то произойдет ошибка.

> [!CAUTION]  
> Операции удаления отменить невозможно. Если параметр ошибочно удален из записи роли, его необходимо повторно добавить вручную.


Чтобы удалить параметры из записи роли, используйте следующий синтаксис.

    Set-ManagementRoleEntry <role name>\<script or non-Exchange cmdlet> -Parameters <parameter 1>, <parameter 2>, <parameter...> -RemoveParameter -UnscopedTopLevel

В этом примере удаляются параметры *Delay*, *Force* и *Credential* из командлета **Start-Widget**, не относящегося к Exchange, в роли администраторов сервера 1 уровня.

    Set-ManagementRoleEntry "Tier 1 Server Administrators\Start-Widget" -Parameters Delay, Force, Credential -RemoveParameter -UnscopedTopLevel

Дополнительные сведения о синтаксисе и параметрах см. в разделе [Set-ManagementRoleEntry](https://technet.microsoft.com/ru-ru/library/dd351162\(v=exchg.150\)).

## Использование командной консоли Exchange для удаления всех параметров из записи роли

Для удаления всех параметров из записи роли выполните следующие действия.

  - Укажите значение `$Null` для параметра *Parameters*. Параметр *RemoveParameter* является необязательным.

  - Укажите параметр *UnscopedTopLevel* для того, чтобы обозначить изменение записи роли на роль верхнего уровня с незаданной областью. Если при изменении записи роли на роль с незаданной областью данный параметр не будет указан, то произойдет ошибка.

Удаление всех параметров из записи роли наиболее часто используется при необходимости сделать доступными для сценария или командлета, не относящегося к Exchange, только определенные параметры и исключить все остальные параметры.

Чтобы запретить для роли доступ к сценарию или командлету, не относящегося к Exchange, полностью удалите связанную запись роли из роли вместо удаления только параметров. Дополнительные сведения о способе удаления записи роли из роли см. в разделе [Удаление записи роли из роли](remove-a-role-entry-from-a-role-exchange-2013-help.md).

> [!CAUTION]  
> Операции удаления отменить невозможно. Если из записи роли ошибочно удалены все параметры, их можно повторно добавить вручную.


Чтобы удалить все параметры из записи роли, используйте следующий синтаксис.

    Set-ManagementRoleEntry <role name>\<script or non-Exchange cmdlet> -Parameters $Null -UnscopedTopLevel

В этом примере удаляются все параметры из сценария FindMailboxesOverQuota.ps1 для роли администраторов получателей.

    Set-ManagementRoleEntry "Recipient Administrators\FindMailboxesOverQuota.ps1" -Parameters $Null -UnscopedTopLevel

Дополнительные сведения о синтаксисе и параметрах см. в разделе [Set-ManagementRoleEntry](https://technet.microsoft.com/ru-ru/library/dd351162\(v=exchg.150\)).

## Использование командной консоли Exchange для применения определенного набора параметров

Чтобы включить в запись роли только определенный набор параметров, выполните следующие действия.

  - Укажите только параметр *Parameters*. Не добавляйте параметры *AddParameter* или *RemoveParameter*.

  - Укажите параметр *UnscopedTopLevel* для того, чтобы обозначить изменение записи роли на роль с незаданной областью. Если при изменении записи роли на роль верхнего уровня с незаданной областью данный параметр не будет указан, то произойдет ошибка.

> [!CAUTION]  
> При указании только параметра <em>Parameters</em> в запись роли включаются только параметры, указанные в команде. Все другие параметры удаляются.


Чтобы указать определенный набор параметров, используйте следующий синтаксис.

    Set-ManagementRoleEntry <role name>\<script or non-Exchange cmdlet> -Parameters <parameter 1>, <parameter 2>, <parameter...> -UnscopedTopLevel

В этом примере добавляются параметры *Alias*, *DisplayName*, *WidgetConfig* и *Enabled* в командлет **Set-Widget** в роли администраторов получателей электронной почты в Сиэтле.

    Set-ManagementRoleEntry "Seattle Mail Recipient Admins\Set-UMMailbox" -Parameters Alias, DisplayName, WidgetConfig, Enabled -UnscopedTopLevel

Дополнительные сведения о синтаксисе и параметрах см. в разделе [Set-ManagementRoleEntry](https://technet.microsoft.com/ru-ru/library/dd351162\(v=exchg.150\)).

## Другие задачи

После изменения записи роли для роли верхнего уровня с незаданной областью можно также выполнить другие действия:

[Добавьте запись роли в роли](add-a-role-entry-to-a-role-exchange-2013-help.md)

[Управление группами ролей](manage-role-groups-exchange-2013-help.md)

[Управление участниками группы ролей](manage-role-group-members-exchange-2013-help.md)

[Добавление роли для пользователя или универсальной группы безопасности](add-a-role-to-a-user-or-usg-exchange-2013-help.md)

[Удалить роль из пользователя или универсальной группы безопасности](remove-a-role-from-a-user-or-usg-exchange-2013-help.md)

