---
title: 'Параметры кодирования сообщений: Exchange 2013 Help'
TOCTitle: Параметры кодирования сообщений
ms:assetid: c1d9edbb-d87c-41e5-881b-cd612d83d7e4
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Bb310794(v=EXCHG.150)
ms:contentKeyID: 50489098
ms.date: 04/30/2018
mtps_version: v=EXCHG.150
ms.translationtype: HT
---

# Параметры кодирования сообщений

 

_**Применимо к:** Exchange Online, Exchange Server 2013_

_**Последнее изменение раздела:** 2016-12-09_

Параметры кодирования сообщений, доступные в Exchange, задают параметры сообщений, такие как наборы символов MIME или отличные от них, двоичное кодирование и форматы вложений. Параметры кодирования сообщений можно задать в следующих местах:

  - параметры удаленных доменов;

  - параметры пользователей почты и почтовых контактов;

  - параметры Microsoft Outlook
    
      - формат сообщений;
    
      - формат сообщений Интернета;
    
      - формат сообщений для получателей в Интернете;
    
      - параметры кодирования наборов символов сообщений;

**Содержание**

Параметры кодирования сообщений, отправленных в удаленные домены

Параметры кодирования сообщений для пользователей почты и почтовых контактов

Параметры кодирования сообщений, доступные в Outlook

Параметры кодирования сообщений, доступные в Outlook Web App

Приоритет для параметров кодирования сообщений

Дополнительные сведения

## Параметры кодирования сообщений, отправленных в удаленные домены

При настройке параметров кодирования сообщений для удаленного домена определенные настройки будут применяться ко всем сообщениям, отправляемым в данный домен. Для удаленных доменов в организации имеются следующие параметры конфигурации для кодирования сообщений.


<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Параметр</strong></p></td>
<td><p><strong>Доступно в EAC в выделенной службе Exchange Online</strong></p></td>
<td><p><strong>Доступно в командной консоли</strong></p></td>
</tr>
<tr class="even">
<td><p><strong>Набор символов MIME</strong>   Указанный набор символов будет использоваться только для тех сообщений MIME, для которых не задана кодировка. Установка этого параметра не приведет к смене наборов символов, определенной в исходящей почте.</p>
<p><strong>Набор символов, отличный от MIME</strong>   Этот параметр используется, если любое из указанных ниже условий правильное:</p>
<ul>
<li><p>Входящие сообщения из удаленного домена, у которых отсутствует значение параметра <em>charset=</em> в поле MIME Content-Type: заголовка сообщения.</p></li>
<li><p>Исходящие сообщения, отправляемые на удаленный домен, у которых отсутствует значение набора символов MIME.</p></li>
</ul>
<p></p></td>
<td><p>Да</p></td>
<td><p>Да</p></td>
</tr>
<tr class="odd">
<td><p><strong>Тип содержимого</strong>   В удаленном домене можно указать тип содержимого для MIME-сообщений, отправляемых получателям. Ниже приведены настройки, которые можно использовать.</p>
<ul>
<li><p><strong>MimeHtmlText</strong>   Все сообщения преобразуются в сообщения MIME, использующие форматирование HTML, если только исходное сообщение не является текстовым сообщением. Если исходное сообщение является текстовым сообщением, то исходящее сообщение будет сообщением MIME, использующим текстовое форматирование. Это параметр по умолчанию.</p></li>
<li><p><strong>MimeText</strong>   Все сообщения преобразуются в сообщения MIME, использующие текстовое форматирование.</p></li>
<li><p><strong>MimeHtml</strong>   Все сообщения преобразуются в сообщения MIME, использующие форматирование HTML.</p></li>
</ul></td>
<td><p>Нет</p></td>
<td><p>Да</p></td>
</tr>
<tr class="even">
<td><p><strong>Размер переносимой строки</strong>   Можно указать максимальное число символов, которое может существовать в одной строке текста сообщения электронной почты. Для старых клиентских приложений электронной почты предпочтительным числом является 78 символов на строку. Этот параметр доступен только в командной консоли.</p>
<p></p></td>
<td><p>Нет</p></td>
<td><p>Да</p></td>
</tr>
</tbody>
</table>


В начало

## Параметры кодирования сообщений для пользователей почты и почтовых контактов

При настройке параметров кодирования сообщений для почтового контакта или почтового пользователя они будут применяться ко всем сообщениям, отправляемым определенному получателю. Для почтовых контактов и почтовых пользователей в организации имеются следующие параметры конфигурации для кодирования сообщений:

  - **UsePreferMessageFormat**   Это параметр указывает, будут ли параметры формата сообщений, настроенные для почтового контакта, переопределять глобальные параметры, настроенные для удаленного домена. Если отключить этот параметр, Exchange будет игнорировать другие параметры кодирования сообщений для этого получателя, а кодирование сообщений будет определяться конфигурацией удаленного домена или параметрами, настроенными отправителем сообщения.

  - **MessageFormat**   Этот параметр указывает формат сообщения. В качестве формата сообщения можно указать Text или MIME. Значение этой настройки зависит от параметра *MessageBodyFormat*. Если формат текста сообщения представлен в Html или TextAndHtml, необходимо этому параметру присвоить значение Mime.

  - **MessageBodyFormat**   Этот параметр указывает формат текста сообщения. Можно указать Text, Html или TextAndHtml. Значение этой настройки зависит от параметра *MessageFormat*. Если для формата сообщения установлено значение Text, необходимо присвоить этому параметру значение Text.

  - **MacAttachmentFormat**   Этот параметр указывает для сообщений формат вложения операционной системы Apple Macintosh. Можно указать BinHex UuEncode, AppleSingle или AppleDouble. Значение этой настройки зависит от параметра *MessageFormat*. Если для формата сообщения установлено значение Text, необходимо присвоить этому параметру значение BinHex или UuEncode. Если для формата сообщения установлено значение Mime, необходимо присвоить этому параметру значение BinHex, AppleSingle или AppleDouble.

Чтобы установить параметры кодирования сообщений для пользователей почты и почтовых контактов, необходимо использовать эти параметры в командной консоли Exchange. Дополнительные сведения приведены в следующих разделах:

  - [Enable-MailContact](https://technet.microsoft.com/ru-ru/library/aa996001\(v=exchg.150\))

  - [New-MailContact](https://technet.microsoft.com/ru-ru/library/bb124519\(v=exchg.150\))

  - [Set-MailContact](https://technet.microsoft.com/ru-ru/library/aa995950\(v=exchg.150\))

  - [Enable-MailUser](https://technet.microsoft.com/ru-ru/library/aa996549\(v=exchg.150\))

  - [New-MailUser](https://technet.microsoft.com/ru-ru/library/aa996335\(v=exchg.150\))

  - [Set-MailUser](https://technet.microsoft.com/ru-ru/library/aa995971\(v=exchg.150\))

В начало

## Параметры кодирования сообщений, доступные в Outlook

Отправитель может указывать параметры кодирования сообщений в Outlook на любом из указанных ниже этапе:

  - При настройке формата сообщения по умолчанию на HTML или обычный текст.

  - При назначении формата сообщения во время создания обычного текста или HTML с помощью области **Формат** на вкладке **Параметры**.

  - При настройке параметров кодирования сообщений, которые отправляются всем получателям за пределами организации Exchange. Такие параметры называются параметрами *формата сообщений Интернета*. Они применяются только к удаленным получателям, а не к получателям в организации Exchange.

  - При настройке параметров кодирования сообщений, которые отправляются конкретным получателям за пределами организации Exchange. Такие параметры называются параметрами *формата сообщений для получателей из Интернета*. Они применяются только к удаленным получателям в папке "Контакты", а не к получателям в организации Exchange.

По умолчанию Outlook использует кодирование сообщений с автоматическим выбором набора символов, проверяя полный текст исходящего сообщения, чтобы определить подходящий для него вид кодирования. Этот параметр применяется к сообщениям, отправляемым получателям в Интернете и получателям в организации Exchange. Однако можно обойти это и указать предпочтительное кодирование для исходящих сообщений.

В начало

## Параметры кодирования сообщений, доступные в Outlook Web App

Отправитель может указывать параметры кодирования сообщений в Outlook Web App на любом из этапов, указанных ниже:

  - При настройке формата сообщения по умолчанию (обычный текст или HTML) в разделе **Формат сообщения** на странице **Настройки** \>**Параметры** \> **Настройки**.

  - При назначении формата сообщения во время создания обычного текста или HTML с помощью меню **Дополнительные параметры** (... ) и пункта **Переключиться на обычный текст** или **Переключиться на HTML**.

В начало

## Приоритет для параметров кодирования сообщений

В следующем списке описаны приоритеты, которые используются Exchange для определения параметров кодирования исходящих сообщений, отправляемых получателям за пределами организации Exchange:

1.  параметры удаленных доменов;

2.  Параметры Outlook и Outlook Web App

3.  Параметры почтовых пользователей и почтовых контактов

Приоритеты в списке указаны в порядке возрастания. Параметр с более высоким приоритетом может переопределять параметр с более низким приоритетом.

Следующая таблица описывает приоритет от низшего к высшему для параметров кодирования наборов символов сообщений.

### Приоритет от низшего к высшему для параметров кодирования наборов символов сообщений

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Источник</th>
<th>Параметр</th>
<th>Значения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Настройка записи удаленного домена, с использованием EAC или командлета <strong>Set-RemoteDomain</strong></p></td>
<td><p><em>CharacterSet</em></p></td>
<td><p>Указанный</p></td>
</tr>
<tr class="even">
<td><p>Настройка записи удаленного домена, с использованием EAC или командлета <strong>Set-RemoteDomain</strong></p></td>
<td><p><em>NonMimeCharacterSet</em></p></td>
<td><p>Указанный</p></td>
</tr>
<tr class="odd">
<td><p>Настройки Outlook</p></td>
<td><p>Кодирование наборов символов сообщений</p></td>
<td><ul>
<li><p>Автоматический выбор</p></li>
<li><p>Указанный</p></li>
</ul></td>
</tr>
</tbody>
</table>


При установке набора символов, отличного от MIME, для удаленного домена набор символов назначается следующим типам сообщений:

  - Исходящим сообщениям в настроенный удаленный домен, которые не содержат определенного набора символов.

  - Входящим сообщениям из настроенного удаленного домена, которые не содержат определенного набора символов.

Значение кодовой страницы Windows ANSI транспортного сервера используется для назначения набора символов следующим типам сообщений:

  - Внутренним сообщениям, которые не содержат определенного набора символов.

  - Внутренним сообщениям, которые содержат определенный набор символов, но не содержат определенной страницы кода сервера.

Если сообщение содержит определенный, но недопустимый набор символов, транспортный сервер пытается заменить его на допустимый набор символов.

Следующая таблица описывает приоритет от низшего к высшему для параметров кодирования сообщений в обычном тексте.

### Приоритет от низшего к высшему для параметров кодирования сообщений в обычном тексте

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Источник</th>
<th>Параметр</th>
<th>Значения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Set-RemoteDomain</strong></p></td>
<td><p><em>LineWrapSize</em></p></td>
<td><ul>
<li><p>От 0 до 132</p></li>
<li><p>неограниченно</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>Настройки Outlook</p></td>
<td><p>формат сообщений;</p></td>
<td><p>Обычный текст</p></td>
</tr>
<tr class="odd">
<td><p>Настройки Outlook</p></td>
<td><p>формат сообщений Интернета;</p></td>
<td><p>Параметры обычного текста:</p>
<ul>
<li><p>Кодирование вложений в формате UuEncode при отправке сообщения в формате обычного текста</p></li>
<li><p>Автоматический перенос строки после <em>nn</em> символов</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>Настройки Outlook</p></td>
<td><p>формат сообщений для получателей в Интернете;</p></td>
<td><p>Формат обычного текста:</p>
<ul>
<li><p>Кодирование вложений в формате вложений UuEncode</p></li>
<li><p>Использование формата вложений BinHex Mac</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>UsePreferMessageFormat</em></p></td>
<td><ul>
<li><p><code>$true</code></p></li>
<li><p><code>$false</code></p></li>
</ul>
<p>Если значение равно <code>$false</code> или получатель не определен как почтовый пользователь либо почтовый контакт в организации Exchange, параметры почтового пользователя или почтового контакта игнорируются.</p></td>
</tr>
<tr class="even">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MessageFormat</em></p></td>
<td><p>Text</p></td>
</tr>
<tr class="odd">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MessageBodyFormat</em></p></td>
<td><p>Text</p></td>
</tr>
<tr class="even">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MacAttachmentFormat</em></p></td>
<td><ul>
<li><p>BinHex</p></li>
<li><p>UuEncode</p></li>
</ul></td>
</tr>
</tbody>
</table>


Следующая таблица описывает приоритет от низшего к высшему для параметров кодирования сообщений MIME.

### Приоритет от низшего к высшему для параметров кодирования сообщений MIME

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Источник</th>
<th>Параметр</th>
<th>Значения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Set-RemoteDomain</strong></p></td>
<td><p><em>ContentType</em></p></td>
<td><ul>
<li><p><code>MimeHtmlText</code></p></li>
<li><p><code>MimeText</code></p></li>
<li><p><code>MimeHtml</code></p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>Параметры Outlook и Outlook Web App</p></td>
<td><p>формат сообщений;</p></td>
<td><ul>
<li><p>обычный текст</p></li>
<li><p>HTML</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>Настройки Outlook</p></td>
<td><p>формат сообщений для получателей в Интернете;</p></td>
<td><p>Формат сообщения MIME</p>
<ul>
<li><p>обычный текст</p></li>
<li><p>Включение как обычного текста, так и HTML</p></li>
<li><p>HTML</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>UsePreferMessageFormat</em></p></td>
<td><p><code>$true</code></p>
<p><code>$false</code></p>
<p>Если значение равно <code>$false</code> или получатель не определен как почтовый пользователь либо почтовый контакт в организации Exchange, параметры почтового пользователя или почтового контакта игнорируются.</p></td>
</tr>
<tr class="odd">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MessageFormat</em></p></td>
<td><ul>
<li><p>Text</p></li>
<li><p>Mime</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MessageBodyFormat</em></p></td>
<td><ul>
<li><p><code>Text</code></p></li>
<li><p><code>Html</code></p></li>
<li><p><code>TextAndHtml</code></p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p><strong>Set-MailUser</strong></p>
<p><strong>Set-MailContact</strong></p></td>
<td><p><em>MacAttachmentFormat</em></p></td>
<td><ul>
<li><p>BinHex</p></li>
<li><p>AppleSingle</p></li>
<li><p>AppleDouble</p></li>
</ul></td>
</tr>
</tbody>
</table>


В начало

## Дополнительные сведения

[Параметры кодирования сообщений](message-encoding-options-exchange-2013-help.md)

[Параметры преобразования TNEF](tnef-conversion-options-exchange-2013-help.md)

[Удаленные домены](remote-domains-exchange-2013-help.md)

[Удаленные домены в Exchange Online](https://technet.microsoft.com/ru-ru/library/jj966211\(v=exchg.150\))

[Управление пользователями почты](https://docs.microsoft.com/ru-ru/exchange/recipients-in-exchange-online/manage-mail-users)

[Управление почтовыми контактами](manage-mail-contacts-exchange-2013-help.md)

[Изменение формата сообщения в Outlook](https://go.microsoft.com/fwlink/p/?linkid=397890)

